(this["webpackJsonpsickest-shader"]=this["webpackJsonpsickest-shader"]||[]).push([[0],[,,,,,,,,,function(e,n,t){e.exports=t.p+"static/media/vg.bd97b8cf.jpg"},function(e,n,t){e.exports=t.p+"static/media/lovers.f0e66115.png"},function(e,n,t){e.exports=t.p+"static/media/sonofman.8274ca14.png"},function(e,n,t){e.exports=t.p+"static/media/waves.dd06de76.jpg"},function(e,n,t){e.exports=t.p+"static/media/dali.401160e8.jpg"},function(e,n,t){e.exports=t.p+"static/media/girl.f09750e2.jpg"},function(e,n,t){e.exports=t(25)},,,,,function(e,n,t){},,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var i=t(1),o=t.n(i),r=t(7),a=t.n(r),c=(t(20),t(2)),s=t.n(c),u=t(4),l=t(3),d=t(0);t(22),t(23),t(24);function f(e){var n=e.images,t=e.onClick,i=function(e){t(e)};return o.a.createElement("div",{className:"container"},n.map((function(e,n){return o.a.createElement("img",{key:e.file,onClick:function(){return i(n)},className:"item",src:e.file})})))}var p=t(5),m=t(8),v=t(9),g=t.n(v),h=t(10),w=t.n(h),x=t(11),b=t.n(x),j=t(12),y=t.n(j),O=t(13),E=t.n(O),S=t(14),k=t.n(S);function C(){var e=Object(p.a)(["\n    precision highp float;\n\n    varying vec3 vColor;\n\n    void main() {\n        gl_FragColor = vec4(vColor, 1.);\n    }\n"]);return C=function(){return e},e}function P(){var e=Object(p.a)(["\n    precision highp float;\n\n    attribute vec3 position;\n    attribute vec2 source;\n    attribute vec2 target;\n\n    uniform sampler2D sourceTex;\n    uniform sampler2D targetTex;\n\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n\n    uniform float size;\n    uniform float blend;\n    uniform vec2 dimensions;\n\n    varying vec3 vColor;\n    const float PI = 3.14159265359;\n\n\n    void main() {\n        float pBlend = 0.;\n\t\tfloat threshold = ( position.y * dimensions.x + position.x) * .5 / ( dimensions.x * dimensions.y );\n\t\tif( 1.5 * blend > threshold ) {\n\t\t\tpBlend = 1.5 * blend - threshold;\n        }\n        pBlend = clamp(pBlend, 0.,1.);\n\n        vec3 origin = vec3(source, 0.);\n        vec3 destination = vec3(target, 0.);\n        vec3 p = mix(origin, destination, pBlend);\n\n        float l = length(destination - origin);\n\n        vec2 uvS = source / dimensions.x;\n        vec2 uvT = target / dimensions.x;\n\n        vec3 d = destination - origin;\n\t\tvec3 c = origin + d / 2.;\n\t\tp.xy = c.xy - .5 * d.xy * cos(pBlend*PI);\n\n        p.z = 0.2 * l * sin(PI*pBlend);\n\n        vColor = mix(texture2D(sourceTex, uvS).rgb, texture2D(targetTex, uvT).rgb, pBlend);\n        p.xy -= 0.5 * dimensions; \n        p *= 1. / dimensions.x;\n        p.y *= - 1.;\n\n        vec4 mvPosition = modelViewMatrix * vec4(p, 1.);\n        gl_PointSize = size * ( 2. / - mvPosition.z );\n        gl_Position = projectionMatrix * mvPosition;\n    }\n"]);return P=function(){return e},e}var B,A,T,z,I,M,W=function(e){return e.toString()},D=W(P()),H=W(C());function F(){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(s.a.mark((function e(){var n,t,i,o,r,a,c,u,l,f,p,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e,n){return new Promise((function(t,i){var o=[];e.forEach((function(i){var r=new Image;r.onload=function(){o.push(r),o.length===e.length&&(n(o),t())},r.src=i}))}))},A=new d.k,(T=new d.q).setPixelRatio(window.devicePixelRatio),T.setSize(window.innerWidth,window.innerWidth),T.setClearColor(new d.c(2762015)),null===(n=document.getElementById("app"))||void 0===n||n.appendChild(T.domElement),(B=new d.g(70,window.innerWidth/window.innerHeight,.001,100)).position.set(0,0,1),new m.a(B,T.domElement),i=[g.a,k.a,b.a,y.a,w.a,E.a],o=new Array(i.length).fill(void 0).map((function(e){return{}})),r=document.createElement("canvas"),a=r.getContext("2d"),e.next=17,t(i,(function(e){o.forEach((function(n,t){n.file=e[t].src.match(/\/static.*(jpg|png)/gi)[0];var i=e[t];r.width=i.naturalWidth,r.height=i.naturalHeight,(a=a).drawImage(i,0,0);for(var o=a.getImageData(0,0,r.width,r.height).data,c=[],s=new d.c,u=0;u<o.length;u+=4)s=s.setRGB(o[u],o[u+1],o[u+2]),c.push({color:s.clone(),index:u/4});var l=i.width,f=i.height,p=new Float32Array(l*f*2),m={h:0,s:0,l:0},v={h:0,s:0,l:0};c.sort((function(e,n){return e.color.getHSL(m),n.color.getHSL(v),m.s-v.s}));var g=0;c.forEach((function(e){p[g]=e.index%l,p[g+1]=Math.floor(e.index/f),g+=2})),n.image=i,n.rgb=c,n.texture=(new d.n).load(n.file),n.coordinates=p}))}));case 17:for(c=o[0].image.width,u=o[0].image.height,l=new Float32Array(c*u*3),f=0,p=0;p<c;p++)for(v=0;v<u;v++)l[3*f]=v,l[3*f+1]=p,l[3*f+2]=0,f++;return(z=new d.b).setAttribute("position",new d.a(l,3)),z.setAttribute("source",new d.a(o[0].coordinates,2)),z.setAttribute("target",new d.a(o[1].coordinates,2)),o.forEach((function(e){e.texture.flipY=!1})),M=new d.j({uniforms:{sourceTex:{value:o[0].texture},targetTex:{value:o[1].texture},size:{value:window.devicePixelRatio},blend:{value:0},dimensions:{value:new d.o(o[0].image.width,o[0].image.height)}},vertexShader:D,fragmentShader:H}),I=new d.h(z,M),A.add(I),N(),e.abrupt("return",o);case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){var e=window.innerWidth,n=window.innerHeight;T.setSize(e,n),B.aspect=e/n,B.updateProjectionMatrix()}function _(){requestAnimationFrame(_),T.render(A,B)}function q(){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return n=e.sent,_(),e.abrupt("return",{images:n,points:I});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=t(27);var V=function(){var e=Object(i.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],a=Object(i.useState)(0),c=Object(l.a)(a,2),p=c[0],m=c[1],v=Object(i.useState)(0),g=Object(l.a)(v,2),h=g[0],w=g[1],x=Object(i.useState)(null),b=Object(l.a)(x,2),j=b[0],y=b[1],O=Object(i.useState)(!1),E=Object(l.a)(O,2),S=E[0],k=E[1];return Object(i.useEffect)((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var n,t,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:n=e.sent,t=n.images,i=n.points,r(t),y(i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(i.useEffect)((function(){p!==h&&function(e,n){k(!0),e.uniforms.blend.value=0,e.uniforms.sourceTex.value=t[p].texture,n.setAttribute("source",new d.e(t[p].coordinates,2)),e.uniforms.targetTex.value=t[h].texture,n.setAttribute("target",new d.e(t[h].coordinates,2));var i=new L.b({paused:!0});i.eventCallback("onComplete",(function(){k(!1),m(h)})),i.to(e.uniforms.blend,4,{value:1,ease:L.a.easeOut},0),i.play()}(null===j||void 0===j?void 0:j.material,null===j||void 0===j?void 0:j.geometry)}),[h,j]),o.a.createElement("div",{className:"App",id:"app"},o.a.createElement(f,{images:t,onClick:function(e){S||w(e)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.1d2a94f3.chunk.js.map